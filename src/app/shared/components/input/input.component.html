<div class="gcc-input-wrapper">
    <mat-label *ngIf="label" [ngClass]="disabled ? 'disabled' : ''">
        {{ label }} 
        <div *ngIf="required" class="required-star">*</div>
        <i *ngIf="hint" 
           tabindex="0"
           [ngClass]="{'fa-circle-xmark' : showHint, 'fa-circle-question' : !showHint}" class="fa-regular"
           [matTooltip]="showHint ? (translations.input.hint.hide.text | translate) : translations.input.hint.show.text | translate"
           [attr.aria-label]="showHint ? (translations.input.hint.hide.aria | translate) : translations.input.hint.show.aria | translate"
           [matTooltipPosition]="tooltipDirection.Right"
           (click)="toggleShowHint()">
        </i>
    </mat-label>

    <mat-form-field>
        <input matInput 
               [id]="inputId"
               [name]="name"
               [value]="value"
               [type]="type === inputType.Password ? (showPassword ? inputType.Text : type) : type"
               [placeholder]="placeholder"
               [minLength]="minLength"
               [maxLength]="maxLength"
               [pattern]="pattern"
               [required]="required"
               [disabled]="disabled"
               [readonly]="readonly"
               [autofocus]="autofocus"
               [formControl]="formControl"
               [errorStateMatcher]="errorStateMatcher"
        >

        <app-button *ngIf="type == inputType.Password" 
                    [matButtonType]="materialButtonType.Icon"
                    [tooltip]="showPassword ? (translations.input.password.hide.text | translate) : translations.input.password.show.text | translate"
                    [ariaLabel]="showPassword ? (translations.input.password.hide.aria | translate) : translations.input.password.show.aria | translate"
                    (click)="toggleShowPassword()">
            <i [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'" class="fa-regular"></i>
        </app-button>

        <mat-hint *ngIf="hint && showHint">
            {{ hint }}
        </mat-hint>

        <mat-error *ngIf="formControl && (formControl.hasError('email') && !formControl.hasError('required'))">
            {{ translations.input.error.email | translate }}
        </mat-error>

        <mat-error *ngIf="formControl && formControl.hasError('required')">
            {{ label }} {{ translations.input.error.required | translate }}
        </mat-error>

    </mat-form-field>
</div>