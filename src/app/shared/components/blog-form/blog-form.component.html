<form id="gcc-form-poll" [formGroup]="form">

    <app-input [(value)]="model.name" 
               [name]="'name'"
               formControlName="name"
               [control]="$any(form).controls['name']"
               [label]="translations.forms.blog.name_of_blog | translate" 
               [placeholder]="translations.forms.placeholder | translate"
               [errorMatcher]="errorStateMatcher"
               [autofocus]="true"
               [required]="true"
               [disabled]="disabled">
    </app-input>

    <app-input [(value)]="model.publisher" 
               [name]="'publisher'"
               formControlName="publisher"
               [control]="$any(form).controls['publisher']"
               [label]="translations.forms.blog.name_of_publisher | translate" 
               [placeholder]="translations.forms.placeholder | translate"
               [errorMatcher]="errorStateMatcher"
               [required]="true"
               [disabled]="disabled">
    </app-input>

    <div class="cover-photo-upload"
         [ngClass]="{error: $any(form).controls['coverPhoto'].touched && ($any(form).controls['coverPhoto'].hasError('required') || coverPhotoError)}">
        <app-button [matButtonType]="'mat-stroked-button'"
                    [clickFunc]="clickCallback"
                    [blurFunc]="blurCallback"
                    [disabled]="disabled">
            <i class="fa-solid fa-upload"></i>
            {{ $any(form).controls['coverPhoto'].value ? ($any(form).controls['coverPhotoName'].value | truncateFileName: 18) : translations.forms.blog.upload_cover_photo | translate }}
            <span *ngIf="!$any(form).controls['coverPhoto'].value" class="required-star">*</span>
        </app-button>
    </div>

    <mat-error *ngIf="coverPhotoError">
        {{ coverPhotoError }}
    </mat-error>

    <mat-error *ngIf="!coverPhotoError && $any(form).controls['coverPhoto'].touched && $any(form).controls['coverPhoto'].hasError('required')">
        A cover photo is required.
    </mat-error>

    <input #gccBlogCoverPhotoInput type="file" accept="image/*" (change)="onFileSelected($event)" style="display: none;">

    <app-input [(value)]="model.coverPhotoAlt" 
               [name]="'coverPhotoAlt'"
               formControlName="coverPhotoAlt"
               [control]="$any(form).controls['coverPhotoAlt']"
               [label]="translations.forms.blog.cover_photo_alt | translate" 
               [placeholder]="translations.forms.placeholder | translate"
               [errorMatcher]="errorStateMatcher"
               [required]="true"
               [disabled]="disabled">
    </app-input>

    <app-editor [label]="translations.forms.blog.body | translate"
                [hint]="translations.forms.placeholder | translate"
                [(html)]="model.description"
                [required]="true"
                [maxCharacters]="maxBlogLength"
                formControlName="description"
                [control]="$any(form).controls['description']"
                [disabled]="disabled">
    </app-editor>
</form>